<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width">
<title>Testing</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/p5.js" type="text/javascript"></script>
<script type="text/javascript">
const spacing = 40;
const margin = spacing * 2;

function setup() {
	//createCanvas(600, 600);
	createCanvas(displayWidth, displayHeight);
	fill(255);
	bubble = new Bubble();
}

function iterate(toDraw) {
	for (var y = margin; y <= height - margin; y += spacing) {
		for (var x = margin; x <= width - margin; x += spacing) {
			toDraw(x, y);
		}
	}
}

function draw() {
	background(0);
	iterate((x, y) => {
		strokeWeight(1);
		stroke(102);
		line(x, y, width/2, height/2);
	});
	iterate((x, y) => {
		noStroke();
		fill(255);
		ellipse(x, y, 6, 6);
	});
	bubble.move();
	bubble.show();
}

class Bubble {
	constructor() {
		this.x = width/2;
		this.y = height/2;
	}
	
	move() {
		this.x = this.x + random(-5,5);
		this.y = this.y + random(-5,5);
	}
	
	show() {
		stroke(255);
		strokeWeight(4);
		noFill();
		ellipse(this.x, this.y, 24, 24);
	}
}

</script>
</head>
<body></body>
</html>